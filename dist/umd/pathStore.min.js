!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).pathStore={},e.Vue)}(this,(function(e,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=r(t);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return!isNaN(e)&&!isNaN(parseFloat(e))}function u(e){return Array.isArray(e)}function i(e){for(var t,r=/(\w+)|\[([^\]]+)\]/g,n=[];t=r.exec(e||"");)"["===e[t.index]?n.push(t[2]):n.push(t[1]);return n}function a(e,t){for(var r=i(t),n=r.length,o=0;o<n;o++){if(void 0===e[r[o]])return;e=e[r[o]]}return e}var s=function(e,t,r){for(var a=i(t),s=a.length,c=s-1,l=0;l<s;l++){var p=a[l];if(l!==c){var y=e[p];y&&"object"===o(y)?(y.hasOwnProperty("__ob__")||n.default.set(e,p,y),u(y)&&!f(a[l+1])&&n.default.set(e,p,{})):f(a[l+1])?n.default.set(e,p,[]):n.default.set(e,p,{})}else n.default.set(e,p,r);e=e[p]}},c=function(e,t,r){if("string"==typeof t)s(e,t,r);else{if(!function(e){return"object"===o(e)&&!Array.isArray(e)&&null!==e}(t))throw Error("Arguments must be either string or object.");for(var n in t)s(e,n,t[n])}},l=["pop","push","reverse","shift","sort","splice","unshift"];e.createPathStore=function(e){var t=n.default.observable(e);return t.set=function(e,r){c(t,e,r)},t.toggle=function(e){s(t,e,!a(t,e))},t.get=function(e){return e?a(t,e):t},l.forEach((function(e){t[e]=function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var f=n.shift(),i=a(t,f);if(!u(i))throw Error("Argument must be an array.");i[e].apply(i,n)}})),t},Object.defineProperty(e,"__esModule",{value:!0})}));
